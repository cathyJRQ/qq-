<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>QQ音乐</title>
    <!-- IMPORT CSS -->
    <link rel="stylesheet" href="css/reset.min.css">
    </link>
    <link rel="stylesheet" href="css/index.css">
    <script src="js/prefixfree.min.js" async></script>

</head>


<body>
    <div id="app">
        <!-- 头部 -->
        <div class="header-box">
            <div class="base">
                <!-- <div class="cover">
                    <img src="" alt="">
                </div>
                <div class="info">
                    <h2 class="title">我的梦 - 华为手机主题曲</h2>
                    <h3 class="author">张靓颖</h3>
                </div> -->
            </div>
            <a href="javascript:;" class="player-button"></a>
        </div>

        <!-- 歌词 -->
        <main class="main-box">
            <div class="wrapper">
                <!-- <p class="active">我的梦 (华为手机主题曲) - 张靓颖</p>
            <p>词：王海涛/张靓颖</p>
            <p>曲: Andy Love</p> -->
            </div>
        </main>


        <!-- 底部 -->
        <footer class="footer-box">

            <div class="bar">
                <span class="time current">00:00</span>
                <div class="progress">
                    <div class="already"></div>
                </div>
                <span class="time duration">00:00</span>
            </div>
            <a href="#" class="download">下载这首音乐</a>
        </footer>

        <!-- 其他(例音频、遮罩层) -->
        <div class="mark-image"></div>
        <div class="mark-overlay"></div>
        <div class="loading-box">
            <div class="content">
                <img src="images/loading.gif" alt="">
                <span>正在努力加载中...</span>
            </div>
        </div>
        <audio src="" id="audioBox" preload="metadata"></audio>

    </div>

    <!-- IMPORT JS -->

    <script>

        (function () {
            const app = document.querySelector('#app'),
                HTML = document.documentElement
            const computed = function () {
                let orien = Math.abs(window.orientation)
                if (orien === 90) {
                    alert('请切换到竖屏')
                    app.style.display = "none"
                    return
                }
                //当前是竖屏
                app.style.display = "block"

                /* 动态计算REM的换算比例 */
                let deviceW = HTML.clientWidth,//设备宽度
                    designW = 375,//设计稿宽度
                    initialRatio = 100//初始比例
                if (deviceW > 540) deviceW = 540//设备宽度最大为540
                let currentRatio = deviceW / designW * initialRatio
                HTML.style.fontSize = currentRatio + 'px'

            }
            computed()
            /* 基于resize事件 代替orientationchange事件来监听横竖屏切换，这样还可以监听模拟器中设备的切换 */
            window.addEventListener('resize', computed)

        })()
    </script>
    <!-- 先导入fastclick再导入index.js -->
    <script src="js/api.js"></script>
    <script src="js/fastclick.js"></script>
    <script src="js/index.js"></script>

</body>

</html>